<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PostgreSQL FAQ</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-language" content="cs">
<meta name="description" lang="en" content="Czech translation of FAQ for PostgreSQL">
<meta name="description" lang="cs" content="Český překlad FAQ PostgreSQL">
</head>
<body bgcolor="#ffffff" text="#000000" link="#ff0000" vlink="#a00000" alink="#0000ff">
<h1>Frequently Asked Questions</h1>
<p><i>Často kladené dotazy (FAQ) PostgreSQL</i>
</p>
<p>Poslední aktualizace: 29. října 2007 (aktualizováno pro PostgreSQL 8.3)
</p>
<p>Současný správce: Bruce Momjian (bruce@momjian.us)
</p>
<p>Přeložil: Pavel Stěhule (pavel.stehule@gmail.com)
</p>
<p>Nejaktuálnější verzi tohoto dokumentu naleznete na adrese
<a href="http://www.postgresql.org/files/documentation/faqs/FAQ.html" title="http://www.postgresql.org/files/documentation/faqs/FAQ.html">http://www.postgresql.org/files/documentation/faqs/FAQ.html</a> 
</p>
<p>Odpovědi na otázky vázané na konkrétní platformy naleznete na
adrese <a href="http://www.postgresql.org/docs/faq/" title="http://www.postgresql.org/docs/faq/">http://www.postgresql.org/docs/faq/</a>.
</p>
<hr>
<h2 align="center">Obecné otázky</h2>
<a href="#item1.1">1.1</a>) Co je to PostgreSQL? Jaká je správná výslovnost slova PostgreSQL?<br>
<a href="#item1.2">1.2</a>) Kdo řídí vývoj PostgreSQL?<br>
<a href="#item1.3">1.3</a>) Pod jakou licencí je PostgreSQL?<br>
<a href="#item1.4">1.4</a>) Na kterých platformách lze provozovat PostgreSQL?<br>
<a href="#item1.5">1.5</a>) Kde mohu získat PostgreSQL?<br>
<a href="#item1.6">1.6</a>) Jaká je poslední verze?<br>
<a href="#item1.7">1.7</a>) Kde mohu získat podporu?<br>
<a href="#item1.8">1.8</a>) Jak a kam hlásit chyby?<br>
<a href="#item1.9">1.9</a>) Kde najdu informace o známých chybách nebo nepodporovaných vlastnostech?<br>
<a href="#item1.10">1.10</a>) Jaká je dostupná dokumentace?<br>
<a href="#item1.11">1.11</a>) Jak se mohu naučit SQL?<br>
<a href="#item1.12">1.12</a>) Jak se mohu připojit k týmu vývojářů?<br>
<a href="#item1.13">1.13</a>) Jak je na tom PostgreSQL v porovnání s jinými databázemi?<br>
<a href="#item1.14">1.14</a>) Je PostgreSQL připraven na aktuální zavádění letního času v některých zemích?<br>
<h2 align="center">Dotazy na klientská rozhraní</h2>
<a href="#item2.1">2.1</a>) Která rozhraní jsou použitelná pro PostgreSQL?<br>
<a href="#item2.2">2.2</a>) Jaké nástroje lze použít pro PostgreSQL a web?<br>
<a href="#item2.3">2.3</a>) Existuje grafické rozhraní pro PostgreSQL?<br>
<h2 align="center">Administrativní dotazy</h2>
<a href="#item3.1">3.1</a>) Jak nainstalovat PostgreSQL jinam než do /usr/local/pgsql?<br>
<a href="#item3.2">3.2</a>) Jak nastavit pravidla pro přístup z jiných stanic?<br>
<a href="#item3.3">3.3</a>) Jak vyladit databázi na vyšší výkon?<br>
<a href="#item3.4">3.4</a>) Jaké mám ladící prostředky?<br>
<a href="#item3.5">3.5</a>) Co znamená "Sorry, too many clients", když se zkouším připojit?<br>
<a href="#item3.6">3.6</a>) Proč je nutný dump a obnovení (load) databáze při upgradu PostgreSQL?<br>
<a href="#item3.7">3.7</a>) Jaký hardware bych měl používat?<br>
<h2 align="center">Provozní dotazy</h2>
<a href="#item4.1">4.1</a>) Jak získat pouze první řádek dotazu? Náhodný řádek?<br>
<a href="#item4.2">4.2</a>) Jak získám seznam tabulek, indexů, databází, a definovaných uživatelů. Mohu vidět dotazy, které používá psql pro zobrazení těchto informací?<br>
<a href="#item4.3">4.3</a>) Jak změnit datový typ sloupce?<br>
<a href="#item4.4">4.4</a>) Jaká je maximální velikost řádku, tabulky a databáze?<br>
<a href="#item4.5">4.5</a>) Kolik diskového prostoru je potřeba k uložení dat z normálního textového souboru?<br>
<a href="#item4.6">4.6</a>) Můj dotaz je pomalý a nepoužívá vytvořené indexy. Proč?<br>
<a href="#item4.7">4.7</a>) Jak zjistím, jak se vyhodnocuje můj dotaz?<br>
<a href="#item4.8">4.8</a>) Jak použít case-(in)sensitive regulární výraz? Jak použít index pro case insensitive hledání?<br>
<a href="#item4.9">4.9</a>) Jak v dotazu detekovat, že položka je NULL? Jak bezpečně spojit dva řetězce, pokud mohou obsahovat NULL? Lze třídit podle toho, jestli je položka NULL nebo ne?<br>
<a href="#item4.10">4.10</a>) Jaké jsou rozdíly mezi různými znakovými typy?<br>
<a href="#item4.11.1">4.11.1</a>) Jak vytvořit serial/auto-increment položku?<br>
<a href="#item4.11.2">4.11.2</a>) Jak získat hodnotu SERIAL po vložení řádku?<br>
<a href="#item4.11.3">4.11.3</a>) Nezpůsobí currval() a nextval() problémy ve více uživatelském prostředí?<br>
<a href="#item4.11.4">4.11.4</a>) Proč není vygenerované číslo použito při přerušení transakce?Proč vznikají díry v číslování prostřednictvím sekvence nebo typu SERIAL?<br>
<a href="#item4.12">4.12</a>) Co to je OID? Co je to CTID?<br>
<a href="#item4.13">4.13</a>) Co znamená chybové hlášení "ERROR: Memory exhausted in AllocSetAlloc()"?<br>
<a href="#item4.14">4.14</a>) Jak zjistím, kterou verzi PostgreSQL používám?<br>
<a href="#item4.15">4.15</a>) Jak vytvořit sloupec, který bude implicitně obsahovat aktuální čas?<br>
<a href="#item4.16">4.16</a>) Jak provést vnější spojení (outer join)?<br>
<a href="#item4.17">4.17</a>) Jak provést dotaz napříč několika databázemi?<br>
<a href="#item4.18">4.18</a>) Může funkce vrátit více řádků nebo sloupců?<br>
<a href="#item4.19">4.19</a>) Co je příčinou chyby "relation with OID xxxxx does not exist"?<br>
<a href="#item4.20">4.20</a>) Jaké jsou možnosti replikace databází?<br>
<a href="#item4.21">4.21</a>) Proč v dotazu nejsou rozpoznány názvy mých tabulek nebo funkcí? Proč jsou velká písmena v názvech automaticky převedena na malá písmena?<br>
<hr>
<h2 align="center">Obecné otázky</h2>
<h3><a name="item1.1">1.1</a>) Co je to PostgreSQL? Jaká je správná výslovnost slova PostgreSQL?</h3>
<p>Výslovnost PostgreSQL je <i>Post-Gres-Q-L</i>
, nebo zjednodušeně <i>Postgres</i>
. V řadě jazyků je slovo PostgreSQL obtížně vyslovitelný, proto se v hovoru často používá zjednodušená forma názvu. Pro ty, kteří by si rádi poslechli výslovnost, je k dispozici audiozáznam v <a href="http://www.postgresql.org/files/postgresql.mp3" title="http://www.postgresql.org/files/postgresql.mp3">MP3 formátu</a>.
</p>
<p>PostgreSQL je relační databáze s některými objektovými rysy, která má možnosti tradičních
komerčních databázových systémů s několika rozšířeními, které lze najít v DBMS
systémech příští generace. Používání PostgreSQL není omezené a veškeré zdrojové kódy jsou
volně dostupné.
</p>
<p>Za vývojem PostgreSQL je mezinárodní skupina nezávislých vývojářů navzájem komunikujících
prostřednictvím internetu. Tento projekt není řízen žádnou obchodní organizací. Pokud se chcete 
přidat k projektu, přečtěte si vývojářské FAQ na adrese <a href="http://www.postgresql.org/files/documentation/faqs/FAQ_DEV.html" title="http://www.postgresql.org/files/documentation/faqs/FAQ_DEV.html">http://www.postgresql.org/files/documentation/faqs/FAQ_DEV.html</a> .
</p>
<h3><a name="item1.2">1.2</a>) Kdo řídí vývoj PostgreSQL?</h3>
<p>Pokud budete hledat organizaci řídící vývoj PostgreSQL, budete zklamáni. Nic takového
neexistuje. Existují pouze "core" a CVS skupiny uživatelů, ale ty existují více z administrátorských
důvodů než z organizačních. Projekt je směrován komunitou vývojářů a uživatelů, ke které se 
kdokoliv může připojit. Jediné co potřebuje, je přihlásit se do elektronické konference. Více ve 
<a href="http://www.postgresql.org/docs/faqs.FAQ_DEV.html" title="http://www.postgresql.org/docs/faqs.FAQ_DEV.html">vývojářském FAQ</a>.
</p>
<h3><a name="item1.3">1.3</a>) Pod jakou licencí je PostgreSQL?</h3>
<p>PostgreSQL je předmětem následujících autorských práv:
</p>
<p>Dílčí Copyright (c) 1996-2008, PostgreSQL Global Development Group<br>
Dílčí Copyright (c) 1994-6, Regents of the University of California
</p>
<p>Uděluje se oprávnění k užití, rozmnožování, provádění úprav a
rozšiřování tohoto softwaru a dokumentace k němu, pro jakékoli účely,
bez licenčního poplatku a bez písemné licenční smlouvy, za podmínky,
že na všech jeho kopiích je uvedeno oznámení o výše uvedených právech,
jakož i obsah tohoto a dvou následujících odstavců.
</p>
<p>THE UNIVERSITY OF CALIFORNIA ("KALIFORNSKÁ UNIVERZITA") NENÍ V ŽÁDNÉM
PŘÍPADĚ ODPOVĚDNA ŽÁDNÉ TŘETÍ OSOBĚ ZA PŘÍMOU, NEPŘÍMOU, ZVLÁŠTNÍ,
NAHODILOU NEBO VÝSLEDNOU ŠKODU, VČETNĚ UŠLÉHO ZISKU, ZPŮSOBENOU UŽITÍM
TOHOTO SOFTWARU A DOKUMENTACE K NĚMU, A TO I V PŘÍPADĚ, ŽE THE
UNIVERSITY OF CALIFORNIA BYLA INFORMOVÁNA O MOŽNOSTI VZNIKU TAKOVÉ
ŠKODY.
</p>
<p>THE UNIVERSITY OF CALIFORNIA ZEJMÉNA NEPOSKYTUJE JAKÉKOLI ZÁRUKY, A TO
NEJEN ZÁRUKY OBCHODOVATELNOSTI A VHODNOSTI TOHOTO VÝROBKU KE
SPECIFICKÝM ÚČELŮM. NÍŽE UVEDENÝ SOFTWARE JE POSKYTNUT "JAK STOJÍ A
LEŽÍ" A THE UNIVERSITY OF CALIFORNIA NENÍ POVINNA ZAJISTIT JEHO
ÚDRŽBU, PODPORU, AKTUALIZACI, VYLEPŠENÍ NEBO MODIFIKACI.
</p>
<p>Výše uvedené je BSD licence, běžná licence otevřeného zdroje. Není zde
žádné omezení ohledně užití kódu zdroje. Jsme s tím spokojeni a nemáme
v úmyslu na této skutečnosti cokoli měnit.
</p>
<h3><a name="item1.4">1.4</a>) Na kterých platformách lze provozovat PostgreSQL?</h3>
<p>Stručně řečeno, PostgreSQL běží na všech moderních unixových systémech. Seznam těch, u kterých proběhlo testování, naleznete v instalačních instrukcích.
</p>
<p>PostreSQL také běží nativně na všech Microsof Windows systémech odvozených z Microsoft Windows NT jako jsou Windows  2000SP4, WindowsXP a Windows2003. Instalační balíček naleznete na adrese <a href="http://pgfoundry.org/projects/pginstaller" title="http://pgfoundry.org/projects/pginstaller">http://pgfoundry.org/projects/pginstaller</a>. Na starších systémech s ještě MS-DOS jádrem lze spustit PostgreSQL s emulačním programem Cygwin.
</p>
<p>Dále existuje port pro Novell Netware 6 port na adrese <a href="http://forge.novell.com" title="http://forge.novell.com">http://forge.novell.com</a>, a pro OS/2 verze (eComStation) na adrese <a href="http://hobbes.nmsu.edu/cgi-bin/h-search?sh=1&button=Search&key=postgreSQL&stype=all&sort=type&dir=%2F" title="http://hobbes.nmsu.edu/cgi-bin/h-search?sh=1&button=Search&key=postgreSQL&stype=all&sort=type&dir=%2F">http://hobbes.nmsu.edu/cgi-bin/h-search?sh=1&button=Search&key=postgreSQL&stype=all&sort=type&dir=%2F</a> .
</p>
<h3><a name="item1.5">1.5</a>) Kde mohu získat PostgreSQL?</h3>
<p>Pomocí webového klienta z adresy <a href="http://www.postgresql.org/ftp/" title="http://www.postgresql.org/ftp/">http://www.postgresql.org/ftp/</a> nebo klienta ftp z adresy <a href="ftp://ftp.postgresql.org/pub/" title="ftp://ftp.postgresql.org/pub/">ftp://ftp.postgresql.org/pub/</a>.
</p>
<h3><a name="item1.6">1.6</a>) Jaká je poslední verze?</h3>
<p>Nejnovější verzí PostgreSQL je verze 8.2.5
</p>
<p>V plánu je uvolňovat každoročně jednu velkou verzi a každých několik měsíců malé verze.
</p>
<h3><a name="item1.7">1.7</a>) Kde mohu získat podporu?</h3>
<p>Nejčastější forma podpory uživatelům PostgreSQL komunitou je prostřednictvím e-mailů. Na našem webovém serveru naleznete <a href="http://www.postgresql.org/community/lists/" title="http://www.postgresql.org/community/lists/">odkaz</a> na stránky,kde se můžete přihlásit do elektronické konference. Pro začátek jsou doporučené konference general nebo bugs.
</p>
<p>Další cestou je IRC kanál #postgresql na Freenode (irc.freenode.net). K připojení použijte Unixový příkaz irc -x '#postgresql' "$USER" irc.freenode.net nebo jakékoholiv jiného IRC klienta. V této síti existuje ještě španělská (#postgresql-es) a francouzská (#postgresqlfr) verze. Další PostgreSQL kanál naleznete na EFNet.
</p>
<p>Seznam společností poskytující komerční podporu naleznete na adrese <a href="http://techdocs.postgresql.org/companies.php" title="http://techdocs.postgresql.org/companies.php">http://techdocs.postgresql.org/companies.php</a>.
</p>
<h3><a name="item1.8">1.8</a>) Jak a kam hlásit chyby?</h3>
<p>Vyplňte formulář na adrese <a href="http://www.postgresql.org/support/submitbug" title="http://www.postgresql.org/support/submitbug">http://www.postgresql.org/support/submitbug</a>. Na našem ftp serveru <a href="ftp://ftp.postgresql.org/pub/" title="ftp://ftp.postgresql.org/pub/">ftp://ftp.postgresql.org/pub/</a> si ověřte, že používáte aktuální verzi PostreSQL.
</p>
<p>Chyby reportované prostřednictvím chybového formuláře nebo zasláním mailu do PostgreSQL konference obvykle generuje následující odezvu:
</p>
<ul><li> Nejedná se o chybu, a proč
</li>
<li> Jedná se o známou chybu, která je již v seznamu úkolů <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a>
</li>
<li> Tato chyba byla opravena v aktuální verzi
</li>
<li> Tato chyba byla již opravena ve verzi, která zatím nebyla oficiálně uvolněna
</li>
<li> Požadavek na další doplňující informace:
<ul><li> Operační systém
</li>
<li> Verze PostgreSQL
</li>
<li> Test reprodukující chybu
</li>
<li> Ladící informace
</li>
<li> Backtrace výstup debuggeru
</li>
</ul>
</li>
<li> Jedná se o zatím nezjištěnou chybu, pak můžete čekat
<ul><li> Záplatu odstraňující chybu, která bude vložena do další velké nebo malé verze
</li>
<li> Informaci, že se jedná o chybu, kterou nelze okamžitě řešit a je proto přidána do <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a>
</li>
</ul>
</li>
</ul>
<h3><a name="item1.9">1.9</a>) Kde najdu informace o známých chybách nebo nepodporovaných vlastnostech?</h3>
<p>PostgreSQL podporuje rozšířenou podmnožinu SQL:2003. V našem <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a> naleznete seznam známých chyb, chybějících vlastností, a plány do budoucna.
</p>
<p>Odezva na požadavek na novou vlastnost PostgreSQL je obvykle:
</p>
<ul><li> Požadavek je již v <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a>
</li>
<li> Požadovaná funkce není chtěná protože
<ul><li> Duplikuje již existující funkci, která respektuje SQL standard
</li>
<li> Implementací funkce by se příliš zkomplikoval kód bez relevantního přínosu
</li>
<li> Funkce by mohla být nebezpečná nebo nespolehlivá
</li>
</ul>
</li>
<li> Požadavek je přidán do <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a>
</li>
</ul>
<p>PostgreSQL nepožívá systém pro sledování chyb, protože jsme zjistili, že je efektivnější přímo reagovat na maily a udržovat aktuální <a href="http://www.postgresql.org/docs/faqs.TODO.html" title="http://www.postgresql.org/docs/faqs.TODO.html">TODO</a>. V praxi je snaha o co nejrychlejší řešení chyb, a chyby, které by se mohly projevit u mnoha uživatelů jsou opravovány velice rychle. Jediné místo, kde lze dohledat všechny změny, rozšíření a opravy v PostgreSQL je CVS log. Poznámky k verzi "Release notes" nezachycují všechny změny, k němž došlo.
</p>
<h3><a name="item1.10">1.10</a>) Jaká je dostupná dokumentace?</h3>
<p>PostgreSQL obsahuje vynikající dokumentaci zahrnující manuál, manuálové stránky a testovací příklady. Podívejte se do adresáře /doc. Manuál je přístupný online na <a href="http://www.postgresql.org/docs" title="http://www.postgresql.org/docs">http://www.postgresql.org/docs</a>.
</p>
<p>K dispozici jsou zdarma dvě online knihy na adresách <a href="http://www.postgresql.org/docs/books/awbook.html" title="http://www.postgresql.org/docs/books/awbook.html">http://www.postgresql.org/docs/books/awbook.html</a> a <a href="http://www.commandprompt.com/ppbook/" title="http://www.commandprompt.com/ppbook/">http://www.commandprompt.com/ppbook/</a>. Další literaturu lze zakoupit. Nejpopulárnější je od Kerryho Douglase. Seznam dostupné literatury je na <a href="http://techdocs.postgresql.org/techdocs/bookreviews.php" title="http://techdocs.postgresql.org/techdocs/bookreviews.php">http://techdocs.postgresql.org/techdocs/bookreviews.php</a>. Ještě je kolekce technicky orientovaných článků tematicky spojených s PostgreSQL na adrese <a href="http://techdocs.postgresql.org/" title="http://techdocs.postgresql.org/">http://techdocs.postgresql.org/</a>.
</p>
<p>Řádkový klient psql má \d příkazy pro zobrazení informací o typech, operátorech, funkcích, agregačních funkcí, atd. Použijte \? pro zobrazení dostupných příkazů.
</p>
<p>Další dokumentaci najdete na našem webu.
</p>
<h3><a name="item1.11">1.11</a>) Jak se mohu naučit SQL?</h3>
<p>Podívejte se do výše uvedené dokumentace. Další online knihou je "Teach Yourself SQL in 21 Days, Second Edition" na adrese <a href="http://members.tripod.com/er4ebus/sql/index.htm" title="http://members.tripod.com/er4ebus/sql/index.htm">http://members.tripod.com/er4ebus/sql/index.htm</a>. Mnoho našich uživatelů doporučuje knihu The Practical SQL Handbook, Bowman, Judith S., et al., Addison-Wesley. Další The Complete Reference SQL, Groff et al., McGraw-Hill.
</p>
<p>Další online tutoriály jsou dostupné na adresách:
</p>
<ul><li> <a href="http://www.intermedia.net/support/sql/sqltut.shtm" title="http://www.intermedia.net/support/sql/sqltut.shtm">http://www.intermedia.net/support/sql/sqltut.shtm</a>
</li>
<li> <a href="http://sqlcourse.com" title="http://sqlcourse.com">http://sqlcourse.com</a>
</li>
<li> <a href="http://www.w3schools.com/sql/default.asp" title="http://www.w3schools.com/sql/default.asp">http://www.w3schools.com/sql/default.asp</a>
</li>
<li> <a href="http://mysite.verizon.net/Graeme_Birchall/id1.html" title="http://mysite.verizon.net/Graeme_Birchall/id1.html">http://mysite.verizon.net/Graeme_Birchall/id1.html</a>
</li>
</ul>
<h3><a name="item1.12">1.12</a>) Jak se mohu připojit k týmu vývojářů?</h3>
<p>Prostudujte si <a href="http://www.postgresql.org/docs/faqs.FAQ_DEV.html" title="http://www.postgresql.org/docs/faqs.FAQ_DEV.html">Developer's FAQ</a>.
</p>
<h3><a name="item1.13">1.13</a>) Jak je na tom PostgreSQL v porovnání s jinými databázemi?</h3>
<p>Software můžeme porovnávat z několika různých pohledů: vlastnosti, výkon, spolehlivost, podpora a cena.
</p>
<script></script>
<h4> Vlastnosti </h4>
<p>PostgreSQL nabízí většinu funkcí funkcionality velkých komerčních DBMS systémů jako jsou: transakce, vnořené dotazy, spouště, referenční integrita a sofistikovaný systém zamykání. Poskytujeme určité funkce, které ostatní systémy běžně nepodporují. Např. uživatelem definované typy, dědičnost, pravidla (rules), a MVCC architekturu.
</p>
<h4> Výkon </h4>
<p>Výkon PostgreSQL je srovnatelný s ostatními komerčními nebo Open Source databázemi. V některých případech je rychlejší, jindy pomalejší. Náš výkon je obvykle +/-10% vůči ostatním databázím. 
</p>
<h4> Spolehlivost </h4>
<p>Uvědomujeme si, že databáze musí být stoprocentně spolehlivá, jinak je nepoužitelná. Snažíme se, aby každá verze byla dobře otestována a obsahovala minimum chyb. Každá verze je minimálně několik měsíců v beta testovacím režimu. Do produkčního režimu se dostane, až když nedochází k dalším změnám nebo opravám. Věříme, že jsem více než srovnatelní s ostatními databázemi v této oblasti.
</p>
<h4> Podpora </h4>
<p>Na našich internetových konferencích se setkává velká skupina vývojářů a uživatelů při řešení vyskytujících se problémů. 
Naše internetové konference umožňují kontakt velké skupiny vývojářů a uživatelů. Nemůžeme garantovat opravu chyby, ale komerční DBMSs také vždy negarantují řešení problémů. Věříme ale, že díky přímému kontaktu na vývojáře, naši uživatelskou komunitu, manuálům, a dostupným zdrojovým kódům máme lepší podporu než ostatní DBMSs. Pro ty, kteří preferují komerční "per-incident" podporu, existuje společností, kteří ji nabízejí (FAQ sekce 1.7.)
</p>
<h4> Cena </h4>
<p>PostgreSQL lze používat bezplatně (a to i pro komerční použití). Také můžete neomezeně používat náš kód ve svých produktech s výjimkami specifikovanými v naší licenci (přebíráme BSD licenci).
</p>
<h3><a name="item1.14">1.14</a>) Je PostgreSQL připraven na aktuální zavádění letního času v některých zemích?</h3>
<p>Počínaje verzí 8.0.[4+] podporuje PostgreSQL letní čas také pro USA. Podpora letního času (daylight saving time) pro Kanadu a Západní Austrálii je obsažena ve verzích 8.0.[10+] a 8.1.[6+] a všech následujících verzích. Starší verze používaly systémovou databázi časových zón obsahující, kromě jiného, informaci o tom, zda se pro danou časovou zónu rozlišuje mezi letním a zimním časem.
</p>
<hr>
<h2 align="center">Dotazy na klientská rozhraní</h2>
<h3><a name="item2.1">2.1</a>) Která rozhraní jsou použitelná pro PostgreSQL?</h3>
<p>PostgreSQL se distribuuje pouze s rozhraním pro jazyk C a embedded C. Všechna další rozhraní představují nezávislé projekty, které je třeba stáhnout z internetu samostatně. Osamostatnění těchto projektů umožňuje nezávislost vývojových týmů a možnost vydávat nové verze bez ohledu na vydání nové verze PostgreSQL.
</p>
<p>Některé programovací jazyky jako je např. PHP obsahují rozhraní pro PostgreSQL. Rozhraní pro jazyky jako je Perl, Tcl, Python a mnoho dalších jsou dostupné na adrese: <a href="http://gborg.postgresql.org" title="http://gborg.postgresql.org">http://gborg.postgresql.org</a> v sekci Drivers/Interfaces.
</p>
<h3><a name="item2.2">2.2</a>) Jaké nástroje lze použít pro PostgreSQL a web?</h3>
<p>Dobrým úvodem do problematiky databází v prostředí webových stránek může být web <a href="http://www.webreview.com" title="http://www.webreview.com">http://www.webreview.com</a>.
</p>
<p>PHP (<a href="http://www.php.net" title="http://www.php.net">http://www.php.net</a>) je vynikajícím rozhraním pro tvorbu webů.
</p>
<p>Pro složitější úlohy se často používá Perl a jeho BDB:Pg rozhraní s podporou CGI - CGI.pm nebo mod_perl(u).
</p>
<h3><a name="item2.3">2.3</a>) Existuje grafické rozhraní pro PostgreSQL?</h3>
<p>K dispozici je řada grafických nástrojů podporujících PostgreSQL a to od komerčních nebo open source vývojářů. Podrobný seznam naleznete na adrese 
<a href="http://www.postgresql.org/docs/techdocs.54" title="http://www.postgresql.org/docs/techdocs.54">http://www.postgresql.org/docs/techdocs.54</a>.
</p>
<hr>
<h2 align="center">Administrativní dotazy</h2>
<h3><a name="item3.1">3.1</a>) Jak nainstalovat PostgreSQL jinam než do /usr/local/pgsql?</h3>
<p>Při spouštění configure nastavte parametr --prefix
</p>
<h3><a name="item3.2">3.2</a>) Jak nastavit pravidla pro přístup z jiných stanic?</h3>
<p>Ve výchozí konfiguraci, PostgreSQL umožňuje pouze připojení z lokálního uživatele prostřednictvím Unix domain sockets nebo TCP/IP spojení. Bez modifikace listen_addresses v souboru postgresql.conf, a povolení adresy v souboru $PGDATA/pg_hba.conf se nelze připojit k PostgreSQL z ostatních stanic. Změna výše zmíněných parametrů vyžaduje restart databázového serveru.
</p>
<h3><a name="item3.3">3.3</a>) Jak vyladit databázi na vyšší výkon?</h3>
<p>Výkon systému můžete ovlivnit ve třech oblastech:
</p>
<h4> Změny dotazu </h4>
<ul><li> Použitím indexů včetně částečných a funkcionálních
</li>
<li> Použitím COPY místo opakovaných INSERTů
</li>
<li> Sloučením mnoha SQL příkazů do jedné transakce snížením režie na commit
</li>
<li> Používáním CLUSTERU, pokud načítáte větší počet řádek podle indexu
</li>
<li> Použitím klauzule LIMIT v poddotazech
</li>
<li> Použitím předpřipravených dotazů
</li>
<li> Používáním ANALYZE. Tento příkaz aktualizuje statistiky, které se používají při optimalizaci dotazu
</li>
<li> Pravidelné použití VACUUM nebo používání pg_autovacuum
</li>
<li> Odstraněním indexů před rozsáhlými změnami v datech
</li>
</ul>
<h4> Konfigurace serveru </h4>
<p>Určité parametry v souboru postgresql.conf mají vliv na výkon serveru. Detaily naleznete v příručce Administrátora v Server Run-time Environment/Run-time Configuration. Další komentáře naleznete v <a href="http://www.varlena.com/varlena/GeneralBits/Tidbits/annotated_conf_e.html" title="http://www.varlena.com/varlena/GeneralBits/Tidbits/annotated_conf_e.html">http://www.varlena.com/varlena/GeneralBits/Tidbits/annotated_conf_e.html</a> a <a href="http://www.varlena.com/varlena/GeneralBits/Tidbits/perf.html" title="http://www.varlena.com/varlena/GeneralBits/Tidbits/perf.html">http://www.varlena.com/varlena/GeneralBits/Tidbits/perf.html</a>.
</p>
<h4> Výběr hardware </h4>
<p>Vliv hardware na výkon serveru je popsán v dokumentech <a href="http://candle.pha.pa.us/main/writings/pgsql/hw_performance/index.html" title="http://candle.pha.pa.us/main/writings/pgsql/hw_performance/index.html">http://candle.pha.pa.us/main/writings/pgsql/hw_performance/index.html</a> a <a href="http://www.powerpostgresql.com/PerfList/" title="http://www.powerpostgresql.com/PerfList/">http://www.powerpostgresql.com/PerfList/</a>.
</p>
<h3><a name="item3.4">3.4</a>) Jaké mám ladící prostředky?</h3>
<p>Nastavením log_* proměnných v konfiguraci serveru si vynutíte logování dotazů a procesních statistik, které Vám mohou  pomoci při ladění a optimalizaci výkonu.
</p>
<h3><a name="item3.5">3.5</a>) Co znamená "Sorry, too many clients", když se zkouším připojit?</h3>
<p>Překročil jste výchozí limit, který je 100 současně připojených uživatelů. V konfiguraci serveru v postgresql.conf tuto hodnotu můžete zvětšit změnou hodnoty max_connection. Nezapomeňte restartovat server.
</p>
<h3><a name="item3.6">3.6</a>) Proč je nutný dump a obnovení (load) databáze při upgradu PostgreSQL?</h3>
<p>Způsob číslování je popsán v dokumentaci na <a href="http://www.postgresql.org/support/versioning" title="http://www.postgresql.org/support/versioning">http://www.postgresql.org/support/versioning</a>. Instrukce k provedení migrace na vyšší verzi jsou taktéž v dokumentaci na adrese <a href="http://www.postgresql.org/docs/current/static/install-upgrading.html" title="http://www.postgresql.org/docs/current/static/install-upgrading.html">http://www.postgresql.org/docs/current/static/install-upgrading.html</a>.
</p>
<h3><a name="item3.7">3.7</a>) Jaký hardware bych měl používat?</h3>
<p>Jelikož PC jsou většinou kompatibilní, lidé mají tendence věřit, že všechna PC jsou stejně kvalitní. Což není pravda. Paměti ECC, SCSI a kvalitní základní desky jsou mnohem spolehlivější a výkonnější než lacinější hardware. PostgreSQL poběží na většině hardwaru, nicméně pokud je pro Vás spolehlivost a výkon systému důležitá,  je dobré věnovat čas nalezení  vhodné hardwarové konfigurace. Na našich elektronických konferencích můžete diskutovat o vhodných konfiguracích a značkách.
</p>
<hr>
<h2 align="center">Provozní dotazy</h2>
<h3><a name="item4.1">4.1</a>) Jak získat pouze první řádek dotazu? Náhodný řádek?</h3>
<p>Pokud potřebujete pouze několik řádků a pokud víte kolik, použijte 
SELECT LIMIT. Pokud bude možné použít index shodující se s ORDER BY,
je možné, že se nebude provádět celý dotaz. Pokud neznáte počet záznamů,
použijte kurzor a příkaz FETCH.
</p>
<p>Pro výběr náhodného řádku použijte příkaz ve tvaru:
</p>
<pre>
SELECT col
FROM tab
ORDER BY random()
LIMIT 1;
</pre>
<h3><a name="item4.2">4.2</a>) Jak získám seznam tabulek, indexů, databází, a definovaných uživatelů. Mohu vidět dotazy, které používá psql pro zobrazení těchto informací?</h3>
<p>V psql příkazem \dt získáte seznam tabulek. Úplný seznam příkazů psql získáte příkazem \?. Alternativně si můžete prostudovat zdrojový kód psql - soubor pgsql/src/bin/psql/describe.c, který obsahuje SQL příkazy, které jsou generovány pro získání výstupu psql "backslash" příkazů. Také můžete nastartovat psql s parametrem -E, který způsobí zobrazení všech SQL příkazů, které se odesílají na server. PostgreSQL také podporuje SQL standard INFORMAČNÍ SCHÉMATA (standardní systémové tabulky). Klasickým dotazem do systémových tabulek získáte požadované informace o struktuře databáze.
</p>
<p>Systémové tabulky PostgreSQL (mimo rámec SQL standardů) používají prefix pg_. Pro zjištění struktury databáze je můžete použít také, i když preferovány jsou dotazy do informačního schématu.
</p>
<p>Seznam všech databází získáte příkazem psql -l
</p>
<p>Další inspiraci najdete v souboru pgsql/src/tutorial/syscat.source. Obsahuje ilustrační SELECTy potřebné k získání informací z systémových tabulek databáze.
</p>
<h3><a name="item4.3">4.3</a>) Jak změnit datový typ sloupce?</h3>
<p>Ve verzích 8.0 a pozdějších jednoduše:
</p>
<pre>
ALTER TABLE ALTER COLUMN TYPE
</pre><p>V starších verzích:
</p>
<pre>
BEGIN;
ALTER TABLE tab ADD COLUMN new_col new_data_type;
UPDATE tab SET new_col = CAST(old_col AS new_data_type);
ALTER TABLE tab DROP COLUMN old_col;
COMMIT;
</pre><p>Po změně spusťte příkaz VACUUM FULL, aby došlo k uvolnění diskového prostoru použitého v tu chvíli již neplatnými záznamy.
</p>
<h3><a name="item4.4">4.4</a>) Jaká je maximální velikost řádku, tabulky a databáze?</h3>
<p>PostgreSQL má tato omezení:
</p>
<table border="0">
<tr><td>    Maximální velikost databáze: </td><td>           neomezena (existují 32TB db)
</td></tr>
<tr><td>    Maximální velikost tabulky: </td><td>           32 TB
</td></tr>
<tr><td>    Maximální velikost řádky: </td><td>             480GB
</td></tr>
<tr><td>    Maximální velikost položky </td><td>            1 GB
</td></tr>
<tr><td>    Maximální počet řádků v tabulce:  </td><td>     neomezeno
</td></tr>
<tr><td>    Maximální počet sloupců v tabulce:  </td><td>   250-1600 podle typů
</td></tr>
<tr><td>    Maximální počet indexů na tabulce:  </td><td>   neomezeno
</td></tr>
</table>
<p>Ve skutečnosti nic není neomezeno, limitem bývá vždy dostupná disková
paměť nebo velikost operační paměti. Pokud máte některou z těchto
hodnot neobvykle velkou, může dojít ke snížení výkonu.
</p>
<p>Maximální velikost tabulky je 32 TB a nevyžaduje podporu velkých
souborů operačním systémem. Velké tabulky se ukládají do několika 1 GB
souborů takže limity souborového systému nejsou podstatné.
</p>
<p>Maximální velikost tabulky a maximální počet sloupců můžeme
zečtyřnásobit nastavením velikosti bloku na 32K.
</p>
<p>Indexy jsou povolené pouze na sloupcích jejichž délka je menší než 2000 znaků. Pokud tuto délku překročíme a index potřebujeme pro zajištění jednoznačnosti, je vhodnější použít funkcionální index nad MD5 funkcí nebo fulltextový index.
</p>
<h3><a name="item4.5">4.5</a>) Kolik diskového prostoru je potřeba k uložení dat z normálního textového souboru?</h3>
<p>PostgreSQL vyžaduje až pětinásobek diskového prostoru k uložení dat z
textového souboru.
</p>
<p>Například, uvažujme soubor se 100 tisíci řádky obsahující na každé
řádce celé číslo a textový popis. Text je v průměrně dvacet bytů
dlouhý. Textový soubor bude 2.8 MB dlouhý. Velikost databáze
obsahující odpovídající data bude zhruba 5.2 MB.
</p>
<pre>
    24 bytů: hlavička řádku (přibližně)
    24 bytů: jedna celočíselná položka a jedna textová
   + 4 byty: ukazatel na stránku k entici
   ------------------------------------------------------
    52 bytů na řádek
</pre><p>Velikost datové stránky PostgreSQL je 8192 bytů (8KB)
</p>
<pre>
 8192 bytů na stránce
---------------------- = 158 řádek na stránku
  52 bytů za řádek

100000 řádek
----------------------- = 633 stránek (zaokrouhleno nahoru)
   158 řádek na stránce

633 datových stránek * 8192 bytů na každou stránku = 5,185,536 bytů (5.2 MB)
</pre><p>Indexy nemají tak velkou režii, ale mohou být také velké, protože
obsahují indexovaná data.
</p>
<p>Hodnoty NULL jsou uloženy v bitmapách, takže zabírají jen velmi málo
diskového prostoru.
</p>
<h3><a name="item4.6">4.6</a>) Můj dotaz je pomalý a nepoužívá vytvořené indexy. Proč?</h3>
<p>Každý dotaz nemusí nutně použít existující indexy. Index se použije
tehdy, když je tabulka větší než určitá minimální velikost, a dotaz
vybírá pouze procentuálně malou část řádků tabulky. To proto, že
náhodný přístup k disku daný čtením indexu může být pomalejší než
lineární čtení tabulky nebo sekvenční čtení.
</p>
<p>PostgreSQL rozhoduje o použití indexů na základě statistiky přístupů k
tabulce. Tyto statistiky se shromažďují příkazy VACUUM ANALYZE nebo
ANALYZE. Díky statistikám má optimizer informaci o počtu řádek v
tabulce a může lépe rozhodnout o použití indexů. Statistiky se uplatní
při určení optimálního pořadí a metody spojení tabulek. Statistiky by
se měli aktualizovat opakovaně, tak jak se mění obsah tabulek.
</p>
<p>Indexy nejsou obyčejně použity pro setřídění nebo spojení tabulek.
Sekvenční zpracování následované explicitním tříděním je obyčejně
rychlejší než použití indexu na velké tabulce.
</p>
<p>Jinak je tomu v případě použití LIMIT a ORDER BY, při kterém se
většinou index použije, jelikož je výsledkem pouze malá část tabulky.
</p>
<p>Pokud si myslíte, že optimizer mylně zvolil sekvenční prohledávání
tabulky, použijte příkaz SET enable_seqscan TO 'off' a zkuste zda je
prohledávání s indexem rychlejší.
</p>
<p>Při vyhledávání na základě vzoru jako je např. operátor LIKE nebo ~ se
indexy použijí pouze za určitých skutečností:
</p>
<ul><li> začátek hledaného vzoru musí být ukotven k začátku, tj.
<ul><li> vzor LIKE nesmí začínat %
</li>
<li> ~ regulární výraz musí začínat ^
</li>
</ul>
</li>
<li> vzor nesmí začínat intervalem, např. [a-e]
</li>
<li> vyhledávaní, které není Case sensitiv jako je ILIKE nebo ~* nepoužívá indexy. Můžete ale použít funkcionální indexy, které jsou popsány v sekci 4.8
</li>
<li> při inicializaci databáze (initdb) musí být použito C locale nebo vytvořte speciální text_pattern_index, který umožní, při respektování zmíněných podmínek použití indexu operací LIKE. Pro vyhledávání celých slov je možné a výhodné použít fulltext.
</li>
</ul>
<h3><a name="item4.7">4.7</a>) Jak zjistím, jak se vyhodnocuje můj dotaz?</h3>
<p>Podívejte se do nápovědy k příkazu EXPLAIN.
</p>
<h3><a name="item4.8">4.8</a>) Jak použít case-(in)sensitive regulární výraz? Jak použít index pro case insensitive hledání?</h3>
<p>Vyhledávání prostřednictvím regulárních vzorů zajišťuje operátor ~, který je case-sensitive. Jeho case-insensitive varianta je operátor ~*. Case-insensitive variací operátoru LIKE je operátor ILIKE.
</p>
<p>Case-insensitive vyhledání se řeší:
</p>
<pre>
SELECT *
FROM tab
WHERE lower(col) = 'abc';
</pre><p>Tento dotaz nepoužije standardní index. Musíte použít tzv. funkcionální index:
</p>
<pre>
CREATE INDEX tabindex ON tab (lower(col));
</pre><p>Pokud index vytvoříme jako unikátní, tak můžeme ukládat řetězce obsahující malá i velká písmena, ale nikoliv řetězce, které se od sebe odlišují jen v malých a velkých písmenech. K zajištění zápisu řetězce obsahující pouze malá nebo pouze velká písmena použijte CHECK kontroly nebo triggery.
</p>
<h3><a name="item4.9">4.9</a>) Jak v dotazu detekovat, že položka je NULL? Jak bezpečně spojit dva řetězce, pokud mohou obsahovat NULL? Lze třídit podle toho, jestli je položka NULL nebo ne?</h3>
<p>Pokud chcete testovat hodnotu NULL použijte operátor IS:
</p>
<pre>
   SELECT *
   FROM tab
   WHERE col IS NULL;
</pre><p>K spojení řetězců, které mohou obsahovat hodnotu NULL, používejte funkci COALESCE(), např.:
</p>
<pre>
   SELECT COALESCE(col1, '') || COALESCE(col2, '')
   FROM tab
</pre><p>Pokud chcete třídit podle hodnoty NULL, použijte výraz IS NULL nebo IS NOT NULL v klauzuli ORDER. Hodnota pravda má přednost před hodnotou false a tedy pokud použijete:
</p>
<pre>
   SELECT *
   FROM tab
   ORDER BY (col IS NOT NULL)
</pre><p>tak záznamy s NULL budou na začátku setříděných dat.
</p>
<h3><a name="item4.10">4.10</a>) Jaké jsou rozdíly mezi různými znakovými typy?</h3>
<table border="0">
<tr><td>Typ </td><td> Interní název </td><td> Poznámky
</td></tr>
<tr><td> VARCHAR(n)</td><td> varchar</td><td> n určuje maximální délku
</td></tr>
<tr><td> CHAR(n)</td><td> bpchar </td><td> řetězec je do dané délky rozšířen mezerami
</td></tr>
<tr><td> TEXT</td><td> text</td><td> bez omezení délky
</td></tr>
<tr><td> BYTEA</td><td> bytea</td><td> pole bytů nespecifikované délky
</td></tr>
<tr><td> "char"</td><td> char</td><td> jeden znak
</td></tr>
</table>
<p>Na interní názvy můžete narazit v systémovém katalogu nebo v některých chybových hlášeních.
</p>
<p>Čtyři první typy jsou tzv. varlena typy (první čtyři byty na disku jsou obsahují délku, ostatní obsahují vlastní data). Skutečně obsazený prostor je tedy o něco málo větší než deklarovaná velikost. Na druhou stranu, delší řetězce jsou komprimovány, takže obsazený prostor na disku může být menší než se čeká.
</p>
<p>VARCHAR(n) je vhodný pro ukládání různě dlouhých řetězců u kterých známe délkové omezení, TEXT pro řetězce bez omezení délky (maximum je jeden gigabyte).
</p>
<p>CHAR(n) se používá pro uložení stejně dlouhých řetězců. CHAR(n) doplní mezerami na specifikovanou délku, VARCHAR(n) hodnoty se ukládají tak jak jsou. BYTEA je pro ukládání binárních dat - non ASCII hodnot. Všechny zmíněné typy mají podobné výkonové charakteristiky.
</p>
<h3><a name="item4.11.1">4.11.1</a>) Jak vytvořit serial/auto-increment položku?</h3>
<p>V PostgreSQL můžete použít datový typ SERIAL. Jeho použitím se automaticky vytvoří sekvence.
Například:
</p>
<pre>
CREATE TABLE person (
  id   SERIAL,
  name TEXT
);
</pre><p>je automaticky transformováno na:
</p>
<pre>
CREATE SEQUENCE person_id_seq;
CREATE TABLE person (
  id   INT4 NOT NULL DEFAULT nextval('person_id_seq'),
  name TEXT
);
</pre><p>Podrobnější informace najdete v manuálu v popisu příkazu create_sequence.
</p>
<h3><a name="item4.11.2">4.11.2</a>) Jak získat hodnotu SERIAL po vložení řádku?</h3>
<p>Nejjednodušším způsob, jak získat vygenerovanou hodnotu typu SERIAL, je využít klauzuli RETURNING. Pro tabulku z 4.11.1 vypadá takto:
</p>
<pre>
INSERT INTO person (name) VALUES ('Blaise Pascal') RETURNING id;
</pre><p>Také můžete použít funkci nextvall() a její výsledek použít v příkazu INSERT, nebo zavolat currval() po provedení příkazu INSERT.
</p>
<h3><a name="item4.11.3">4.11.3</a>) Nezpůsobí currval() a nextval() problémy ve více uživatelském prostředí?</h3>
<p>Ne, currval vrací vždy hodnotu, která byla vygenerována pro vás.
</p>
<h3><a name="item4.11.4">4.11.4</a>) Proč není vygenerované číslo použito při přerušení transakce?Proč vznikají díry v číslování prostřednictvím sekvence nebo typu SERIAL?</h3>
<p>Poté co sekvence vygeneruje nové číslo, tak se nedochází k zamčení sekvence a nečeká se na úspěšné nebo neúspěšné dokončení transakce. Odvoláním transakce, která si vyžádala čísla sekvence se tato čísla nenávratně ztratí.
</p>
<h3><a name="item4.12">4.12</a>) Co to je OID? Co je to CTID?</h3>
<p>V případě, že tabulku nezaložíme s atributem WITHOUT OIDS, tak má každý řádek unikátní identifikační číslo OID. Toto číslo je 4 bajtové celé číslo, které je jedinečné v celé instalaci. Přeteče po 4 miliardách řádků. PostgreSQL používá OIDs jako interní linky v interních systémových tabulkách.
</p>
<p>K získání unikátního čísla v nesystémových tabulkách je vhodnější použití typu SERIAL než OID, jelikož sekvence SERIAL se používá pouze pro jednu tabulku a je tudíž méně náchylná na přetečení. Pokud byste se toho obávali, použijte typ SERIAL8.
</p>
<p>CTID se používá k identifikaci konkrétního fyzického řádku. CTID se mění pokud je řádek modifikován nebo znovu načten. Používají ho indexy jako adresaci fyzických řádků.
</p>
<h3><a name="item4.13">4.13</a>) Co znamená chybové hlášení "ERROR: Memory exhausted in AllocSetAlloc()"?</h3>
<p>Pravděpodobně jste vyčerpal dostupnou virtuální paměť, nebo tvůj kernel
má příliš nízké limity u určitých zdrojů. Před startem PostgreSQL vyzkoušejte:
</p>
<pre>
ulimit -d 262144
limit datasize 256m
</pre><p>Možná, že se projde pouze jeden příkaz - záleží to na vašem shellu.
Měl by zvednout limity datových segmentů vašich procesů na dostatečně velkou
hodnotu a snad umožnit dokončení dotazu. Změna limitů se bude aplikovat 
pouze na aktuální proces a na všechny nově vytvořené procesy. Jestliže máte
problém s SQL klientem, protože vám server vrátil příliš dat, zkuste to
před startem klienta.
</p>
<h3><a name="item4.14">4.14</a>) Jak zjistím, kterou verzi PostgreSQL používám?</h3>
<p>V psql napište:
</p>
<pre>
SELECT version();
</pre>
<h3><a name="item4.15">4.15</a>) Jak vytvořit sloupec, který bude implicitně obsahovat aktuální čas?</h3>
<p>Použijte CURRENT_TIMESTAMP:
</p>
<pre>
CREATE TABLE test (x int, modtime TIMESTAMP DEFAULT CURRENT_TIMESTAMP );
</pre>
<h3><a name="item4.16">4.16</a>) Jak provést vnější spojení (outer join)?</h3>
<p>PostgreSQL podporuje standardní SQL syntaxi pro vnější spojení. Zde jsou 
dva příklady:
</p>
<pre>
SELECT *
FROM t1 LEFT OUTER JOIN t2 ON (t1.col = t2.col);
</pre><p>nebo
</p>
<pre>
SELECT *
FROM t1 LEFT OUTER JOIN t2 USING (col);
</pre><p>Tyto identické dotazy spojí sloupec t1.col k sloupci t2.col, a ještě vrátí všechny nespárované řádky t2 (ty, které nedohledá v t2). RIGHT JOIN by připojil všechny nespárované řádky z t2. FULL JOIN vrátí všechny spárované řádky i všechny zbývající řádky z obou tabulek. Klíčové slovo OUTER je volitelné. Běžná operace JOIN se také označuje jako vnitřní spojení.
</p>
<h3><a name="item4.17">4.17</a>) Jak provést dotaz napříč několika databázemi?</h3>
<p>Neexistuje žádný způsob, jak se v dotazu odkazovat na tabulky z jiné než aktuální databáze. A to protože má systémové tabulky uložené nezávisle v každé databázi a není tak úplně zřejmé, jak by se dotaz provedený napříč databázemi měl chovat.
</p>
<p>Jeden z doplňků dblink umožňuje dotaz nad několika tabulkami pomocí funkcí. Druhý způsob je simultální připojení klienta ke všem relevantním databázím a sloučení výsledku na straně klienta.
</p>
<h3><a name="item4.18">4.18</a>) Může funkce vrátit více řádků nebo sloupců?</h3>
<p>Jde to jednoduše pomocí set-returning funkce. Více na 
<a href="http://www.postgresql.org/docs/techdocs.17" title="http://www.postgresql.org/docs/techdocs.17">http://www.postgresql.org/docs/techdocs.17</a>.
</p>
<h3><a name="item4.19">4.19</a>) Co je příčinou chyby "relation with OID xxxxx does not exist"?</h3>
<p>Nechtěným vedlejším efektem kešování SQL dotazů v PL/pgSQL funkci je problém s neplatnými odkazy na dočasné tabulky, které byly od prvního spuštění funkce zrušeny a znovu vytvořeny před dalším spuštěním PL/pgSQL funkce. Řešením je použít příkaz EXECUTE a to proto, že prováděcí plán SQL příkazu spouštěného příkazem EXECUTE se vytváří pokaždé znovu (neukládá se do cache).
</p>
<p>Tento problém by se neměl vyskytovat u PostgreSQL verze 8.3 a vyšších verzích.
</p>
<h3><a name="item4.20">4.20</a>) Jaké jsou možnosti replikace databází?</h3>
<p>Replikaci databáze umožňuje několik technoligií. Každá má určité výhody a nevýhody.
</p>
<p>Master/Slave replikaci podporuje jeden hlavní server, který přijímá požadavky na zápis a čtení, a několik podřízených serverů, které umožňují pouze čtení (SELECT). Nejrozšířenějším volně dostupným řešením tohoto typu je <a href="http://main.slony.info/" title="http://main.slony.info/">Slony-I</a>.
</p>
<p>Replikace typu Multi-master podporuje existenci několika serverů s povoleným zápisem na více replikovaných serverech. Toto řešení zvyšuje zátěž serverů, protože je nutná synchronizace serverů. Nejrozšířenějším volně dostupným řešením je <a href="http://pgfoundry.org/projects/pgcluster/" title="http://pgfoundry.org/projects/pgcluster/">PGCluster</a>.
</p>
<p>Ještě existuje několik komerčních a hardware řešení replikací podporujících různé modely replikace.
</p>
<h3><a name="item4.21">4.21</a>) Proč v dotazu nejsou rozpoznány názvy mých tabulek nebo funkcí? Proč jsou velká písmena v názvech automaticky převedena na malá písmena?</h3>
<p>Nejčastějším důvodem nerozpoznání názvu objektu bylo použití vložení názvu sloupce nebo tabulky  mezi uvozovky při zakládání tabulky. Pokud se název zapíše mezi uvozovky, pak je case sensitive, a v důsledku toho je nutné názvy těchto sloupců nebo tabulek v SQL příkazech také vkládat mezi uvozovky (pokud obsahují velká písmena). Některé programy, jako je například pgAdmin, automaticky používají uvozovky. Takže pokud chcete, aby systém identifikoval identifikátor, musíte:
</p>
<ul><li> nepoužívat uvozovky v příkazu CREATE TABLE
</li>
<li> v identifikátoru použít pouze malá písmena
</li>
<li> v dotazech vkládat identifikátory do uvozovek
</li>
</ul>
</body>
</htm>
